!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dist/",s(s.s=4)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();var n=function(){function t(e){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eraserBtn=document.getElementById("eraser"),this.clearBtn=document.getElementById("clear"),this.replayBtn=document.getElementById("replay"),this.loopBtn=document.getElementById("loop"),this.blissBtn=document.getElementById("bliss"),this.rInput=document.getElementById("red"),this.gInput=document.getElementById("green"),this.bInput=document.getElementById("blue"),this.freq=document.getElementById("freq"),this.step=document.getElementById("step"),this.eraserBtn.addEventListener("click",function(){return s.eraser()}),this.clearBtn.addEventListener("click",function(){return s.clear()}),this.replayBtn.addEventListener("click",function(){return s.replay()}),this.loopBtn.addEventListener("click",function(){return s.loop()}),this.blissBtn.addEventListener("click",function(){return s.bliss()}),this.rInput.addEventListener("change",function(t){return s.upVal("r",t.target)}),this.gInput.addEventListener("change",function(t){return s.upVal("g",t.target)}),this.bInput.addEventListener("change",function(t){return s.upVal("b",t.target)}),this.freq.addEventListener("change",function(t){return s.upVal("width",t.target)}),this.step.addEventListener("change",function(t){return s.upVal("height",t.target)}),this.eraser=this.eraser.bind(this),this.clear=this.clear.bind(this),this.replay=this.replay.bind(this),this.loop=this.loop.bind(this),this.brush=e,this.settings=this.brush.settings}return i(t,[{key:"upVal",value:function(t,e){this.settings[t]=parseInt(e.value,10)}},{key:"clear",value:function(){var t=this.brush,e=this.loopBtn,s=this.eraserBtn;t.clear(),t.history=[t.initialHistory],t.reset(),e.classList.remove("active"),s.classList.remove("active")}},{key:"eraser",value:function(){var t=this.settings,e=this.eraserBtn;t.eraser=!t.eraser,t.x=-100,t.y=-100,t.lx=-100,t.ly=-100,e.classList.toggle("active")}},{key:"replay",value:function(){var t=this.brush,e=this.settings,s=this.eraserBtn;e.frame=0,e.clean=!0,e.x=-100,e.y=-100,e.lx=-100,e.ly=-100,e.replay||(t.clear(),e.eraser=!1,e.replay=!0,s.classList.remove("active"))}},{key:"loop",value:function(){var t=this.brush,e=this.settings,s=this.replayBtn,i=this.loopBtn,n=this.eraserBtn,r=this.clearBtn;e.frame=0,e.clean=!0,e.x=-100,e.y=-100,e.lx=-100,e.ly=-100,t.clear(),e.loop?(e.loop=!1,e.replay=!1,t.history=[t.initialHistory],t.reset(),s.disabled=!1,n.disabled=!1,r.disabled=!1):(e.loop=!0,e.replay=!0,s.disabled=!0,n.disabled=!0,r.disabled=!0),i.classList.toggle("active"),n.classList.remove("active")}},{key:"bliss",value:function(){document.body.classList.toggle("bliss"),this.blissBtn.classList.toggle("active")}}]),t}();e.default=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["A","B","X","Y","LB","RB","LT","RT","SEL","STR","L3","R3","UP","DOWN","LEFT","RIGHT","SYNC"]},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),n=s(1);var r={x:-100,y:-100,lx:-100,ly:-100,prevX:-100,prevY:-100,frame:0,stall:0,r:2,g:0,b:4,speed:5,height:5,width:127,size:50,color:0,eraser:!1,replay:!1,loop:!1,clean:!0,gradient:""},a=function(){function t(e,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=r,this.initialHistory={from:[-1e3,-1e3],to:[-1e3,-1e3],size:this.settings.size,color:this.settings.color},this.history=[this.initialHistory],this.controller={type:null,A:!1,B:!1,X:!1,Y:!1,RT:!1,LT:!1,RB:!1,LB:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,AXIS_X:0,AXIS_Y:1},this.draw=this.draw.bind(this),this.controllerPosition=this.controllerPosition.bind(this),this.canvas=e,this.context=s}return i(t,[{key:"colorPhase",value:function(t){var e=this.settings.width,s=2*Math.PI,i=this.settings.height,n=Math.sin(s/i+this.settings.r+t)*e+128,r=Math.sin(s/i+this.settings.g+t)*e+128,a=Math.sin(s/i+this.settings.b+t)*e+128;return this.settings.gradient="linear-gradient("+Math.round(n)+", "+Math.round(r)+", "+Math.round(a)+")","rgb("+Math.round(n)+","+Math.round(r)+","+Math.round(a)+")"}},{key:"line",value:function(t,e,s,i,n,r){var a=this.context;a.beginPath(),a.moveTo(t,e),a.lineTo(s,i),a.lineWidth=n,a.lineCap="round",a.lineJoin="round",a.strokeStyle=r,a.stroke()}},{key:"record",value:function(t){this.history.push(t)}},{key:"draw",value:function(t){var e=this.settings,s=e.lx,i=e.ly,n=e.x,r=e.y,a=e.size,o=e.eraser,l=e.frame,u=e.replay,h=this.colorPhase(this.settings.color/30);o&&(h="rgb(0,0,0)"),this.line(s,i,n,r,a,h),this.controllerPosition(t);var c={from:[s,i],to:[n,r],size:a,color:h};0!==l&&(u||this.record(c))}},{key:"replay",value:function(){var t=this.history.length-1,e=this.history[this.settings.frame],s=e.from[0],i=e.from[1],n=e.to[0],r=e.to[1],a=e.size,o=e.color;this.settings.frame<t?(this.settings.frame+=1,this.line(s,i,n,r,a,o)):this.settings.loop?(this.settings.stall+=1,this.settings.stall>=60&&(this.settings.stall=0,this.settings.frame=0,this.clear())):(this.settings.frame=0,this.settings.replay=!1)}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"reset",value:function(){this.settings.x=-100,this.settings.y=-100,this.settings.lx=-100,this.settings.ly=-100,this.settings.prevX=-100,this.settings.prevY=-100,this.settings.frame=0,this.settings.stall=0,this.settings.speed=5,this.settings.height=5,this.settings.width=5,this.settings.size=50,this.settings.color=0,this.settings.eraser=!1,this.settings.replay=!1,this.settings.loop=!1,this.settings.clean=!0}},{key:"controllerPosition",value:function(t){var e=this.controller,s=this.settings;if(t&&!s.clean){(t.axes[e.AXIS_Y]<0||t.axes[e.AXIS_Y]>0||t.axes[e.AXIS_X]>0||t.axes[e.AXIS_X]<0)&&(s.xbox=!0,s.color+=1,s.frame+=1),0===t.axes[e.AXIS_Y]&&0===t.axes[e.AXIS_X]&&s.xbox&&(s.frame=0,s.xbox=!1);for(var i=0;i<t.buttons.length;i+=1)t.buttons[i].pressed?e[n.buttonList[i]]=!0:e[n.buttonList[i]]=!1;s.y+=t.axes[e.AXIS_Y]*e.speed,s.x+=t.axes[e.AXIS_X]*e.speed,e.B||(s.ly=s.prevY,s.lx=s.prevX),s.prevY+=t.axes[e.AXIS_Y]*e.speed,s.prevX+=t.axes[e.AXIS_X]*e.speed,e.LB?s.speed=2.5:e.RB?s.speed=10:s.speed=5,e.Y?(s.r=1,s.g=0,s.b=5):(s.r=2,s.g=0,s.b=4),s.size>=20?(e.RT&&(s.size+=1),e.LT&&(s.size-=1)):s.size=20}}}]),t}();e.default=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),n=a(s(2)),r=a(s(0));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById(e),this.context=this.canvas.getContext("2d"),this.brush=new n.default(this.canvas,this.context),this.controls=new r.default(this.brush),this.resizeCanvas=this.resizeCanvas.bind(this)}return i(t,[{key:"resizeCanvas",value:function(){var t=this.canvas,e=this.context,s=window.devicePixelRatio;t.width=window.innerWidth*s,t.height=window.innerHeight*s,t.style.width=window.innerWidth,t.style.height=window.innerHeight,e.drawImage(t,0,0)}},{key:"initializeCanvas",value:function(){var t=this.canvas,e=this.brush,s=e.settings;function i(t){s.clean&&(s.clean=!1);var e=void 0,i=void 0;if("mousemove"!==t.type&&"mousedown"!==t.type||(e=t.clientX,i=t.clientY),"touchmove"===t.type||"touchstart"===t.type)for(var n=t.targetTouches,r=0;r<n.length;r+=1)e=n[r].pageX,i=n[r].pageY,s.size=100*n[r].force;0===s.frame&&(s.prevX=e,s.prevY=i),s.x=e,s.y=i,s.lx=s.prevX,s.ly=s.prevY,s.color+=1,s.xbox||(s.frame+=1),s.prevX=e,s.prevY=i}this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas,!1),t.addEventListener("mouseup",function(){s.frame=0,t.removeEventListener("mousemove",i,!1)},!1),t.addEventListener("touchend",function(){s.frame=0,t.removeEventListener("touchmove",i,!1)},!1),t.addEventListener("touchstart",function(e){s.frame=0,i(e),t.addEventListener("touchmove",i,!1)},!1),t.addEventListener("mousedown",function(e){s.frame=0,i(e),t.addEventListener("mousemove",i,!1)},!1),function t(){window.requestAnimationFrame(t,1e3/60);var i=navigator.getGamepads()[0];s.replay?e.replay():e.draw(i)}()}}]),t}();e.default=o},function(t,e,s){"use strict";var i,n=s(3);new((i=n)&&i.__esModule?i:{default:i}).default("doodleCanvas").initializeCanvas()}]);